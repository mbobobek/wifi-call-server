<!doctype html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WiFi VoIP (LAN)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="layout">
    <header class="hero">
      <div class="brand">
        <div class="brand-mark">WCA</div>
        <div>
          <h1>WiFi-Call-App</h1>
          <p>Onlayn ro‘yxatdan foydalanuvchini tanlab qo‘ng‘iroq qiling. Xona kerak emas.</p>
        </div>
      </div>
      <div class="theme-toggle">
        <button id="theme-dark" class="ghost active">Dark</button>
        <button id="theme-light" class="ghost">Light</button>
      </div>
    </header>

    <section class="card">
      <label for="name">Ismingiz/Nickname</label>
      <input id="name" type="text" placeholder="Masalan: Ali" autocomplete="off">
      <p class="hint">Saqlanadi (localStorage), onlaynga chiqqanda serverga yuboriladi.</p>
    </section>

    <section class="card controls">
      <div class="control-row">
        <div class="status-chip">Holat: <span id="status">tayyor emas</span></div>
        <div class="ringing" id="ring"></div>
      </div>
      <button id="connect" class="primary">Onlayn bo'lish</button>
      <div class="btns">
        <button id="hangup" class="danger" disabled>Uzish</button>
        <button id="mute" class="secondary" disabled>Mute</button>
      </div>
    </section>

    <section class="card">
      <h3>Onlayn foydalanuvchilar</h3>
      <div id="online" class="online-list">Ulanish tugmasini bosing</div>
      <div id="ring" class="ringing"></div>
    </section>

    <section class="card">
      <h3>Log</h3>
      <div id="log"></div>
    </section>

    <audio id="remote" autoplay></audio>
  </main>
  <script>
    // TURN sozlamalarini kerak bo'lsa to'ldiring (internet orqali ishlatish uchun)
    window.TURN_URL = '';
    window.TURN_USER = '';
    window.TURN_PASS = '';
    // Light/Dark UI toggle (faqat ko'rinish uchun)
    const body = document.body;
    const darkBtn = document.getElementById('theme-dark');
    const lightBtn = document.getElementById('theme-light');
    const setTheme = (mode) => {
      body.classList.toggle('theme-light', mode === 'light');
      body.classList.toggle('theme-dark', mode === 'dark');
      darkBtn.classList.toggle('active', mode === 'dark');
      lightBtn.classList.toggle('active', mode === 'light');
    };
    darkBtn.onclick = () => setTheme('dark');
    lightBtn.onclick = () => setTheme('light');
  </script>
  <script src="app.js"></script>
</body>
</html>
